// RFID-Bibliothek hinzufügen
#include <MFRC522.h>

//Anschlüsse definieren 
#define SDS_Pin 10
#define RST_Pin 9

//LEDs
# define LED_RED
# define LED_GREEN

// Zustand der LEDs false = beim Start ausgeschaltet
bool StatusroteLED = false;
bool StatusgrueneLED = false;

//RFID-Empfänger bennen, Pins zuordnen
MFRC522 rfid(SS_Pin, RST_Pin);

void setup() {
  myservo.attach();
  pinMode(LED_RED, OUTPUT);
  pinMode(LED_GREEN, OUTPUT);

  Serial.begin(9600);
  SPI.begin();

  //Initialsierung des RFID-Empfängers
  rfid.PCD_Init();
  }

void loop()
{
String WertDEZ;

//Wenn keine Karte in Reichweite ist...
if (!rfid.PICC_IsNewCardpresent())
{
//... wird die Abfrage wiederholt.
return;
}

//Wenn kein RFID-Sender ausgewählt wurde...
if (!rfid.PICC_ReadCardSerial())
{
//...wird die Abfrage wiederholt.
return;
}

Serial.println("Karte entdeckt!");

//Dezimal-Wert in Strings schreiben
for (byte i = 0; i < MFRC522.uid.size; i++) //über jedes Byte der UID der Karte
{
//String zusammenbauen
WertDEZ = WertDEZ + String(MFRC522.uid.uidByte[i], DEC) + " "; 
}

//trim() -> Leerzeichen am Ende des Strings entfernen
WertDEZ.trim();

//Kennung dezimal anzeigen
Serial.println("Dezimalwert: " + WertDEZ);

//rote LED, wenn kein WerteDEZ anliegt
//....code...//

//gruene LED schalte
if (WerteDEZ == " ")
{
LED_GREEN = !LED_GREEN;
digitalWrite(GREEN_LED,StatusgrueneLED);
}
//Wartezeit verhindert, dass die Karte nur einmal erkannt wird
delay(1000);
}






  
  


